!function(){function e(){let e=new ymaps.Map("map",{center:[55.7486,37.5986],zoom:14});[{x:55.7572,y:37.6158,address:"ул. Охотный ряд"},{x:55.745,y:37.6008,address:"Гоголевский бульвар"}].forEach(t=>{const n=new ymaps.Placemark([t.x,t.y],{balloonContent:t.address},{iconLayout:"default#image",iconImageHref:"img/map/choccoPoint.png",hideIconOnBalloonOpen:!1,iconImageOffset:[-17,-40]});e.geoObjects.add(n)})}window.onload=setTimeout(()=>{new Promise((e,t)=>{if(window.ymaps)return e();let n=document.createElement("script");n.async=!0,n.src="https://api-maps.yandex.ru/2.1/?load=Map,Placemark,geoObject.addon.balloon&apikey=76dd679b-d43f-4800-b744-f749eb0b34aa&lang=ru_RU",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),document.body.appendChild(n)}).then((function(){window.ymaps.ready(e)}))},400)}(),function(){const e=document.querySelector(".menu-accordion__list"),t=document.querySelectorAll(".menu-accordion__item"),n="menu-accordion__item--active";let o=null,a=!1,c=document.querySelector(".menu").clientWidth,i=t[0].clientWidth,l=i*t.length,s=520+l;function r(e){if(e.classList.remove(n),e.querySelector(".menu-accordion__content").style.width=null,o=null,c<=480)for(let e=0;e<t.length;e++)setTimeout(()=>{t[e].querySelector(".menu-accordion__title").style.opacity=1,t[e].querySelector(".menu-accordion__img").style.width=i+"px"},300)}e.addEventListener("click",e=>{const d=e.target,u=d.classList.contains("menu-accordion__btn")?d.parentNode:d.parentNode.parentNode,m=u.querySelector(".menu-accordion__content");if(d.classList.contains("menu-accordion__btn")||d.classList.contains("menu-accordion__title"))if(u.classList.contains(n))r(u),a=!a;else{if(o&&r(o),c<s&&c>480)m.style.width=c-l+"px";else if(c<=480){i=t[0].querySelector(".menu-accordion__img").clientWidth;for(let e=0;e<t.length;e++)t[e]===u?t[e].querySelector(".menu-accordion__content").style.width=c-i+"px":(t[e].querySelector(".menu-accordion__title").style.opacity=0,t[e].querySelector(".menu-accordion__img").style.width=0)}a?setTimeout(()=>{u.classList.add(n)},250):(u.classList.add(n),a=!a),o=u}else d.classList.contains("menu-accordion__close-btn")&&(r(d.parentNode.parentNode),a=!a)}),window.addEventListener("resize",()=>{c=document.querySelector(".menu").clientWidth,l=t[0].clientWidth*t.length,s=520+l})}(),function(){const e=document.querySelector(".header__nav"),t=document.querySelector(".nav"),n=document.querySelector(".header__hamburger");function o(){t.classList.toggle("nav--active"),n.classList.toggle("btn-hamburger--close"),document.body.classList.toggle("no-scroll")}e.addEventListener("click",e=>{(event.target.matches("button.header__hamburger")||t.classList.contains("nav--active")&&event.target.matches("a.nav__link"))&&o()})}(),function(){const e=-1*(document.querySelectorAll(".section").length-1),t=document.querySelector(".pagination__list"),n=document.querySelector(".nav__list"),o=document.querySelectorAll(".scroll-order"),a=document.querySelectorAll(".pagination__item");let c=0,i=[],l=0,s=!1;function r(e){s||("down"===e?(c--,d()):(c++,d()))}function d(){if(c<e)return c=e;if(c>0)return c=0;document.querySelector(".main").style.transform=`translateY(${100*c}%)`,s=!s,setTimeout(()=>{a[l].classList.toggle("pagination__item--active"),l=-1*c,a[l].classList.toggle("pagination__item--active"),s=!s,i=[]},650)}document.addEventListener("wheel",e=>{const t=e.deltaY>0?"down":"up";e.path[0].matches("ymaps")||r(t)}),t.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.classList.contains("pagination__link")&&(c=-t.dataset.scroll,d())}),n.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.classList.contains("nav__link")&&(c=-t.dataset.scroll,d())}),o.forEach(e=>{e.addEventListener("click",()=>{c=-e.dataset.scroll,d()})}),document.addEventListener("keydown",e=>{const t=e.target.tagName.toLowerCase();"input"===t||"textarea"===t||(40===e.keyCode?r("down"):38===e.keyCode&&r("up"))}),document.addEventListener("touchmove",e=>{const t=e.changedTouches[0].clientY;if(i.push(t),2!==i.length);else{r(i[0]>i[1]?"down":"up")}})}(),function(){const e=document.querySelector(".order-form");function t(e){const t=document.createElement("div");t.classList.add("modal");const n=document.createElement("div");n.classList.add("modal__container"),t.appendChild(n);const o=document.createElement("div"),a=document.createElement("button");return o.classList.add("modal__title"),o.innerText=e,a.classList.add("modal__button"),a.classList.add("btn"),a.classList.add("btn--color--green"),a.type="button",a.innerText="Закрыть",n.appendChild(o),n.appendChild(a),t.addEventListener("click",e=>{const a=e.target;a!==n&&a!==o&&t.remove()}),t}document.querySelector(".order-form__submit").addEventListener("click",n=>{if(n.preventDefault(),function(e){let t=!0;e.elements.name.checkValidity()||(t=!t);e.elements.phone.checkValidity()||(t=!t);e.elements.street.checkValidity()||(t=!t);e.elements.house.checkValidity()||(t=!t);e.elements.body.checkValidity()||(t=!t);e.elements.flat.checkValidity()||(t=!t);e.elements.floor.checkValidity()||(t=!t);e.elements.comment.checkValidity()||(t=!t);return t}(e)){const n={name:e.elements.name.value,phone:e.elements.phone.value,comment:e.elements.comment.value,email:"email@test"};let o=new FormData;o.append("name",n.name),o.append("phone",n.phone),o.append("comment",n.comment),o.append("email",n.email);const a=new XMLHttpRequest;a.responseType="json",a.open("POST","https://webdev-api.loftschool.com/sendmail/fail"),a.send(o),a.addEventListener("load",()=>{a.response.status,document.body.appendChild(t(a.response.message))})}})}(),function(){const e=document.querySelector(".product__container"),t=document.querySelectorAll(".product__item");let n=0;function o(e){t[n].classList.toggle("product__item--active"),n=e,t[n].classList.toggle("product__item--active")}e.addEventListener("click",e=>{event.target.matches("button.product__previous")?t[n-1]?o(n-1):o(t.length-1):event.target.matches("button.product__next")&&(t[n+1]?o(n+1):o(0))})}(),function(){const e=document.querySelector(".reviews__wraper"),t=document.querySelectorAll(".feedback"),n=document.querySelector(".reviews__list"),o=n.querySelectorAll(".reviews__item");let a=0,c=document.querySelector(".reviews__content").clientWidth;e.style.width=c*t.length+"px",n.addEventListener("click",t=>{const n=t.target.parentNode;var i;n.classList.contains("reviews__button")&&(i=n.getAttribute("data-id")-1,o[a].classList.remove("reviews__item--active"),a=i,o[i].classList.add("reviews__item--active"),e.style.transform="translateX("+-c*i+"px)")}),window.addEventListener("resize",()=>{c=document.querySelector(".reviews__content").clientWidth,e.style.width=c*t.length+"px",e.style.transform="translateX("+-c*a+"px)"})}(),function(){const e=document.querySelector(".team__list");teamButton="a.team__name",teamToggleActive="team__item--active";let t=null;function n(e){e.parentNode.parentNode.classList.toggle(teamToggleActive),e.parentNode.previousElementSibling.style.height=null,t=null}function o(e){let n=e.parentNode.previousElementSibling.offsetHeight-e.nextElementSibling.offsetHeight;e.parentNode.parentNode.classList.toggle(teamToggleActive),e.parentNode.previousElementSibling.style.height=n+"px",t=e}e.addEventListener("click",e=>{e.preventDefault(),e.target.matches(teamButton)&&(e.target.parentNode.parentNode.classList.contains(teamToggleActive)?n(e.target):t?(n(t),setTimeout(()=>{o(e.target)},290)):o(e.target))})}(),function(){const e=document.querySelector(".progress__value"),t=document.querySelector(".sound__value");let n,o,a;function c(){e.value=n.currentTime}document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".video__wrapper");n=document.querySelector(".video__player"),e.addEventListener("mousedown",()=>{e.value=0,e.max=100}),i.addEventListener("click",i=>{const l=i.target;l.classList.contains("video__player")||l.classList.contains("play")?(document.querySelector(".video__play").classList.toggle("video__play--disabled"),document.querySelector(".progress__play").classList.toggle("progress__play--active"),n.paused?(""===e.max&&(e.max=n.duration),n.play(),o=setInterval(c,1e3)):(n.pause(),clearInterval(o))):l.classList.contains("progress__value")?function(){let t=n.duration;e.max=n.duration,e.value=t*e.value/100,n.currentTime=e.value}():l.classList.contains("sound__mute")?0===n.volume?(n.volume=a,t.value=10*a):(a=n.volume,n.volume=0,t.value=0):l.classList.contains("sound__value")&&(n.volume=t.value/10)})})}();