!function(){function e(){let e=new ymaps.Map("map",{center:[55.7486,37.5986],zoom:14});[{x:55.7572,y:37.6158,address:"ул. Охотный ряд"},{x:55.745,y:37.6008,address:"Гоголевский бульвар"}].forEach(t=>{const n=new ymaps.Placemark([t.x,t.y],{balloonContent:t.address},{iconLayout:"default#image",iconImageHref:"img/map/choccoPoint.png",hideIconOnBalloonOpen:!1,iconImageOffset:[-17,-40]});e.geoObjects.add(n)})}window.onload=setTimeout(()=>{new Promise((e,t)=>{if(window.ymaps)return e();let n=document.createElement("script");n.src="https://api-maps.yandex.ru/2.1/?apikey=76dd679b-d43f-4800-b744-f749eb0b34aa&lang=ru_RU",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),document.body.appendChild(n)}).then((function(){window.ymaps.ready(e)}))},400)}(),function(){const e=document.querySelector(".menu-accordion__list"),t=document.querySelectorAll(".menu-accordion__item"),n="menu-accordion__item--active";let o=null,c=!1,a=document.querySelector(".menu").clientWidth,i=t[0].clientWidth,s=i*t.length,l=520+s;function r(e){if(e.classList.remove(n),e.querySelector(".menu-accordion__content").style.width=null,o=null,a<=480)for(let e=0;e<t.length;e++)setTimeout(()=>{t[e].querySelector(".menu-accordion__title").style.opacity=1,t[e].querySelector(".menu-accordion__img").style.width=i+"px"},300)}e.addEventListener("click",e=>{const d=e.target,u=d.classList.contains("menu-accordion__btn")?d.parentNode:d.parentNode.parentNode,m=u.querySelector(".menu-accordion__content");if(d.classList.contains("menu-accordion__btn")||d.classList.contains("menu-accordion__title"))if(u.classList.contains(n))r(u),c=!c;else{if(o&&r(o),a<l&&a>480)m.style.width=a-s+"px";else if(a<=480){i=t[0].querySelector(".menu-accordion__img").clientWidth;for(let e=0;e<t.length;e++)t[e]===u?t[e].querySelector(".menu-accordion__content").style.width=a-i+"px":(t[e].querySelector(".menu-accordion__title").style.opacity=0,t[e].querySelector(".menu-accordion__img").style.width=0)}c?setTimeout(()=>{u.classList.add(n)},250):(u.classList.add(n),c=!c),o=u}else d.classList.contains("menu-accordion__close-btn")&&(r(d.parentNode.parentNode),c=!c)}),window.addEventListener("resize",()=>{a=document.querySelector(".menu").clientWidth,s=t[0].clientWidth*t.length,l=520+s})}(),function(){const e=document.querySelector(".header__nav"),t=document.querySelector(".nav"),n=document.querySelector(".header__hamburger");function o(){t.classList.toggle("nav--active"),n.classList.toggle("btn-hamburger--close"),document.body.classList.toggle("no-scroll")}e.addEventListener("click",e=>{(event.target.matches("button.header__hamburger")||t.classList.contains("nav--active")&&event.target.matches("a.nav__link"))&&o()})}(),function(){const e=-1*(document.querySelectorAll(".section").length-1),t=document.querySelector(".pagination__list"),n=document.querySelector(".nav__list"),o=document.querySelectorAll(".scroll-order"),c=document.querySelectorAll(".pagination__item");let a=0,i=[],s=0,l=!1;function r(e){l||("down"===e?(a--,d()):(a++,d()))}function d(){if(a<e)return a=e;if(a>0)return a=0;document.querySelector(".main").style.transform=`translateY(${100*a}%)`,l=!l,setTimeout(()=>{c[s].classList.toggle("pagination__item--active"),s=-1*a,c[s].classList.toggle("pagination__item--active"),l=!l,i=[]},650)}document.addEventListener("wheel",e=>{const t=e.deltaY>0?"down":"up";e.path[0].matches("ymaps")||r(t)}),t.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.classList.contains("pagination__link")&&(a=-t.dataset.scroll,d())}),n.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.classList.contains("nav__link")&&(a=-t.dataset.scroll,d())}),o.forEach(e=>{e.addEventListener("click",()=>{a=-e.dataset.scroll,d()})}),document.addEventListener("keydown",e=>{const t=e.target.tagName.toLowerCase();"input"===t||"textarea"===t||(40===e.keyCode?r("down"):38===e.keyCode&&r("up"))}),document.addEventListener("touchmove",e=>{const t=e.changedTouches[0].clientY;if(i.push(t),2!==i.length);else{r(i[0]>i[1]?"down":"up")}})}(),function(){const e=document.querySelector(".order-form");function t(e){const t=document.createElement("div");t.classList.add("modal");const n=document.createElement("div");n.classList.add("modal__container"),t.appendChild(n);const o=document.createElement("div"),c=document.createElement("button");return o.classList.add("modal__title"),o.innerText=e,c.classList.add("modal__button"),c.classList.add("btn"),c.classList.add("btn--color--green"),c.type="button",c.innerText="Закрыть",n.appendChild(o),n.appendChild(c),t.addEventListener("click",e=>{const c=e.target;c!==n&&c!==o&&t.remove()}),t}document.querySelector(".order-form__submit").addEventListener("click",n=>{if(n.preventDefault(),function(e){let t=!0;e.elements.name.checkValidity()||(t=!t);e.elements.phone.checkValidity()||(t=!t);e.elements.street.checkValidity()||(t=!t);e.elements.house.checkValidity()||(t=!t);e.elements.body.checkValidity()||(t=!t);e.elements.flat.checkValidity()||(t=!t);e.elements.floor.checkValidity()||(t=!t);e.elements.comment.checkValidity()||(t=!t);return t}(e)){const n={name:e.elements.name.value,phone:e.elements.phone.value,comment:e.elements.comment.value,email:"email@test"};let o=new FormData;o.append("name",n.name),o.append("phone",n.phone),o.append("comment",n.comment),o.append("email",n.email);const c=new XMLHttpRequest;c.responseType="json",c.open("POST","https://webdev-api.loftschool.com/sendmail/fail"),c.send(o),c.addEventListener("load",()=>{c.response.status,document.body.appendChild(t(c.response.message))})}})}(),function(){const e=document.querySelector(".product__container"),t=document.querySelectorAll(".product__item");let n=0;function o(e){t[n].classList.toggle("product__item--active"),n=e,t[n].classList.toggle("product__item--active")}e.addEventListener("click",e=>{event.target.matches("button.product__previous")?t[n-1]?o(n-1):o(t.length-1):event.target.matches("button.product__next")&&(t[n+1]?o(n+1):o(0))})}(),function(){const e=document.querySelector(".reviews__wraper"),t=document.querySelectorAll(".feedback"),n=document.querySelector(".reviews__list"),o=n.querySelectorAll(".reviews__item");let c=0,a=document.querySelector(".reviews__content").clientWidth;e.style.width=a*t.length+"px",n.addEventListener("click",t=>{const n=t.target.parentNode;var i;n.classList.contains("reviews__button")&&(i=n.getAttribute("data-id")-1,o[c].classList.remove("reviews__item--active"),c=i,o[i].classList.add("reviews__item--active"),e.style.transform="translateX("+-a*i+"px)")}),window.addEventListener("resize",()=>{a=document.querySelector(".reviews__content").clientWidth,e.style.width=a*t.length+"px",e.style.transform="translateX("+-a*c+"px)"})}(),function(){const e=document.querySelector(".team__list");teamButton="a.team__name",teamToggleActive="team__item--active";let t=null;function n(e){e.parentNode.parentNode.classList.toggle(teamToggleActive),e.parentNode.previousElementSibling.style.height=null,t=null}function o(e){let n=e.parentNode.previousElementSibling.offsetHeight-e.nextElementSibling.offsetHeight;e.parentNode.parentNode.classList.toggle(teamToggleActive),e.parentNode.previousElementSibling.style.height=n+"px",t=e}e.addEventListener("click",e=>{e.preventDefault(),e.target.matches(teamButton)&&(e.target.parentNode.parentNode.classList.contains(teamToggleActive)?n(e.target):t?(n(t),setTimeout(()=>{o(e.target)},290)):o(e.target))})}(),function(){const e=document.querySelector(".progress__value"),t=document.querySelector(".sound__value");let n,o,c;function a(){e.value=n.currentTime}document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".video__wrapper");n=document.querySelector(".video__player"),e.addEventListener("mousedown",()=>{e.value=0,e.max=100}),i.addEventListener("click",i=>{const s=i.target;s.classList.contains("video__player")||s.classList.contains("play")?(document.querySelector(".video__play").classList.toggle("video__play--disabled"),document.querySelector(".progress__play").classList.toggle("progress__play--active"),n.paused?(""===e.max&&(e.max=n.duration),n.play(),o=setInterval(a,1e3)):(n.pause(),clearInterval(o))):s.classList.contains("progress__value")?function(){let t=n.duration;e.max=n.duration,e.value=t*e.value/100,n.currentTime=e.value}():s.classList.contains("sound__mute")?0===n.volume?(n.volume=c,t.value=10*c):(c=n.volume,n.volume=0,t.value=0):s.classList.contains("sound__value")&&(n.volume=t.value/10)})})}();